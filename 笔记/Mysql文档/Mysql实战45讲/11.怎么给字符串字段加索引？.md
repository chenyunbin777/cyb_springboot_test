# 11.怎么给字符串字段加索引？

# 前缀索引
- 定义的**前缀长度很重要**，需要给你一个区分度更好的长度。
- 会影响“索引覆盖”的优化方式
- **需要回表**查询对应的数据是否准确，因为innodb无法判断“前缀长度”下的数据是否是完整的。

# 优化方案
1. DB倒序存储需要建立索引的相关字段，存储时进行reverse
2. hash(key)，但是会有hash相同的风险


# 总结
1. 直接创建完整索引，这样可能比较占用空间； 
2. 创建前缀索引，节省空间，但会增加查询扫描次数，并且不能使用覆盖索引； 
3. 倒序存储，再创建前缀索引，用于绕过字符串本身前缀的区分度不够的问题； 
4. 创建hash字段索引，查询性能稳定，有额外的存储和计算消耗，跟第三种方式一样，**都不支持范围扫描**。 
5. 在实际应用中，你要根据业务字段的特点选择使用哪种方式。