# 06.全局锁和表锁 ：给表加个字段怎么有这么多阻碍？
- 根据加锁的范围， 根 MySQL M 里面的锁大致可以分成全局锁、表级锁和行锁三类里 。
- 这里需要说明的是，锁的设计比较复杂，这两篇文章不会涉及锁的具体实现细节，主要介绍的是 碰到锁时的现象和其背后的原理。




# 全局锁
- 顾名思义，全局锁就是对整个数据库实例加锁。MySQL提供了一个加**全局读锁**的方法，命令是 Flush tables with read lock (FTWRL)。
- 当你需要让整个库处于只读状态的时候，可以使用这个命令，之后其他线程的以下语句会被阻塞：数据更新语句（数据的增删改）、数据定义语句（包括 建表、修改表结构等）和更新类事务的提交语句。
- 全局锁的典型使用场景是，**做全库逻辑备份**。


# 表级锁
- MySQL里面表级别的锁有两种：一种是表锁，一种是元数据锁（meta data lock，MDL)。
- 表锁的语法是 表 lock tables …read/write 。与FTWRL类似，可以用unlock tables主动释放锁， 也可以在客户端断开的时候自动释放。
需要注意，lock tables语法除了会限制别的线程的读写 外，也限定了本线程接下来的操作对象。
- 